## Найденные проблемы

- **Качество кода**
  - Использование `any` для задач и отсутствие явного доменного типа `Task`.
  - Дублирование логики форматирования дат в нескольких местах.
  - Наличие неиспользуемых вычислений и обработчиков в `App.vue`.
  - Смешение бизнес‑логики, работы с таймерами и разметки в одном крупном компоненте.

- **Архитектура**
  - Вся логика по задачам была сосредоточена в `App.vue` без декомпозиции на модули.
  - Фильтры, форма добавления, статистика и список были «зашиты» в один экран без переиспользуемых компонентов.
  - Отсутствовал единый источник правды по задачам (composable), контракт фильтра дублировался в нескольких местах.

- **Производительность**
  - Многократные вызовы `tasks.filter(...)` в шаблоне для подсчёта активных/завершённых задач и процента завершения.
  - Избыточные пересчёты статистики без использования `computed` и централизованных счётчиков.

- **Безопасность и работа с данными**
  - Использование `<object>` для логотипа с внешнего ресурса, повышающее риск XSS.
  - Отсутствие персистентного хранилища: задачи терялись при перезагрузке.
  - Разная логика работы с датами без единообразного форматтера и нормализации при сохранении/загрузке.

- **Прочее**
  - Верстка и структура блоков vuetify не является оптимальной
  - Замечаны ошибки валидации формы добавления задачи


## Лог

Удалён `unplugin-vue-components`, чтобы исключить автогенерацию ненужного `HelloWorld`.
Затронуты файлы: `vite.config.mts`, `package.json`, `components.d.ts`, `src/components/HelloWorld.vue`.

В `src/App.vue` удалены все неиспользуемые вычисления и обработчики, остались только реально задействованные данные/методы.
Затронутый файл: `src/App.vue`.

В `src/App.vue` устранено дублирование форматирования дат: теперь используется единый хелпер `formatDate` для всех дат задачи.
Затронутый файл: `src/App.vue`.

В `src/App.vue` предотвращена утечка памяти от таймеров: при размонтировании компонента очищаются все активные `setInterval` и связанные состояния.
Затронутый файл: `src/App.vue`.

В `src/App.vue` упрощена логика метода `startDeletion`, за счёт чего улучшена его читаемость.
Затронутый файл: `src/App.vue`.

В `src/App.vue` заменён вызов `window.setInterval` на просто `setInterval` для более идиоматичного кода в браузере.
Затронутый файл: `src/App.vue`.

В `src/App.vue` при отмене удаления задачи теперь корректно очищается связанный таймер через `clearInterval` в `cancelDeletion`.
Затронутый файл: `src/App.vue`.

В `src/App.vue` `<object>` для логотипа заменён на безопасный `v-img` (`<img>`), чтобы свести к минимуму риск XSS при загрузке ресурсов.
Затронутый файл: `src/App.vue`.

Логика работы таймеров удаления задач вынесена из `src/App.vue` в утилиты `src/utils/deletionTimers.ts` для упрощения компонента и переиспользуемости.
Затронутые файлы: `src/App.vue`, `src/utils/deletionTimers.ts`.

Добавлен явный доменный тип `Task` и подключён вместо `any` в `src/App.vue` и `src/utils/deletionTimers.ts` для строгой типизации задач.
Затронутые файлы: `src/types.ts`, `src/App.vue`, `src/utils/deletionTimers.ts`.

Произведена декомпозиция `src/App.vue` на контейнер и презентационные компоненты: `AppHeader` (шапка), `TasksBody` (основное тело страницы), `TaskList` (список задач).
Затронутые файлы: `src/App.vue`, `src/components/AppHeader.vue`, `src/components/TasksBody.vue`, `src/components/TaskList.vue`.

Дополнительно выделен презентационный компонент `TaskStats` для блока статистики по задачам (футер списка).
Затронутые файлы: `src/components/TasksBody.vue`, `src/components/TaskStats.vue`.

Компонент фильтров задач вынесен в отдельный презентационный `TaskFilters`, принимающий текущий фильтр и агрегированные числа.
Затронутые файлы: `src/components/TasksBody.vue`, `src/components/TaskFilters.vue`.

Форма добавления задачи вынесена в отдельный презентационный компонент `AddTaskForm`.
Затронутые файлы: `src/components/TasksBody.vue`, `src/components/AddTaskForm.vue`.

Добавлен composable `useTasks`, инкапсулирующий состояние задач, фильтрацию, счётчики и CRUD-операции; контейнер `App.vue` стал тонким, а `TasksBody` читает состояние напрямую из композиции без каскада пропсов.
Затронутые файлы: `src/composables/useTasks.ts`, `src/components/TasksBody.vue`, `src/App.vue`.

Тип фильтра задач `TaskFilter` вынесен в общий модуль типов и подключён вместо локальных union-типов, чтобы избежать дублирования контрактов.
Затронутые файлы: `src/types.ts`, `src/composables/useTasks.ts`, `src/components/TasksBody.vue`, `src/components/TaskFilters.vue`.

Обновлён `AppHeader` под Vuetify-лейаут: логотип фиксированной ширины слева и заголовок, занимающий оставшееся пространство с обрезкой по ширине; лишние вложенные контейнеры убраны.
Затронутый файл: `src/components/AppHeader.vue`.

Верстка `TasksBody` упрощена под рекомендаций Vuetify: убраны лишние `v-container`/`v-row`/`v-col`, структура стала более плоской.
Затронутый файл: `src/components/TasksBody.vue`.

Связанность компонентов упрощена: `TaskFilters`, `AddTaskForm` и `TaskStats` теперь напрямую используют `useTasks`, без проброса состояния и колбэков через `TasksBody`.
Затронутые файлы: `src/components/TaskFilters.vue`, `src/components/AddTaskForm.vue`, `src/components/TaskStats.vue`, `src/components/TasksBody.vue`.

Форматирование дат вынесено из `useTasks` в отдельную утилиту `dateFormatter`, чтобы не раздувать composable и упростить повторное использование форматтера.
Затронутые файлы: `src/utils/dateFormatter.ts`, `src/composables/useTasks.ts`.

Добавлен сервис персистентного хранения задач в localStorage (`taskStorage`), интегрированный с `useTasks` и удалением задач по таймеру; теперь список задач восстанавливается между перезагрузками.
Затронутые файлы: `src/services/taskStorage.ts`, `src/composables/useTasks.ts`, `src/utils/deletionTimers.ts`.

Унифицирован канал изменений задач: фактическое удаление вынесено в `useTasks.removeTask`, а таймеры (`deletionTimers`) теперь лишь вызывают колбэк `onExpire(id)` вместо прямой модификации списка.
Затронутые файлы: `src/composables/useTasks.ts`, `src/utils/deletionTimers.ts`, `src/components/TasksBody.vue`.

Исправлена валидация формы добавления события `src/components/AddTaskForm.vue`

## Добавление функционала ленты событий
Реализована лента изменений задач: создаётся отдельный composable `useTaskEvents` и сервис `taskEventsStorage` с хранением событий в `localStorage`. Лента отображается в компоненте `TaskEventsFeed`, встроенном в макет `TasksBody` (две колонки на широких экранах и одна колонка с лентой снизу на узких), и автоматически пополняется при создании, завершении, переоткрытии и удалении задач.


## Демо и код
https://privet-andrey-koshelek.vercel.app/
https://github.com/scoutrul/tt-koshel